<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="IT 之家自动签到">
	<meta name="viewport" content="width=device-width,inital-scale=1">
	<title>IT 之家自动签到</title>
	<style type="text/css">
		div {
			text-align: left;
			margin-top: 20px;
		}

		#clock {
			margin-left: 10px;
			;
		}

		#randomImage {
			width: 350px;
			display: none;

		}

		#title {
			display: none;
		}

		#count {
			display: none;
			color: red;
			font-size: 20px;
			margin-left: 20px;
		}

		#history {
			display: none;
		}

		.history {
			text-align: left;
			font-size: 15px;
			line-height: 38px;

			display: block;
		}

		.desc {
			font-size: 18px;
			padding-top: 10px;
			padding-bottom: 10px;
			margin-left: 10px;
			color: red;
		}
		.ti{
			font-size: 16pt;
		}
		input{
			font-size: 16pt;
		}

		.form {
			text-align: left;
			padding-left: 10px;
		}

		.submit {
			width: 200px;
			height: 50px;
			color: white;
			font-size: 20px;
			border-radius: 5px;
			background-color: cornflowerblue;
			align-items: center;
			justify-content: center;
			text-align: center;
			line-height: 50px;

		}
		.ani{
			display: flex;
			flex-direction: row;
		}
		@keyframes mymove
		{
			from {transform: scaleY(1.0)}
			to {transform: scaleY(0.1);}
			
			
		}

		.rec{
			background-color: #333333;
			height: 100px;
			width: 10px;
			margin-left: 10px;

		}
		.a1{
			animation: mymove 0.6s linear  infinite alternate;
			-webkit-animation: mymove 0.6s linear  infinite alternate ;

		}
		.a2{
			animation: mymove 0.7s  linear 0.2s  infinite alternate;
			-webkit-animation:  mymove 0.7s  linear 0.2s  infinite alternate;
		}

		.a3{
			animation: mymove 0.8s  linear 0.25s  infinite alternate;
			-webkit-animation: mymove 0.8s  linear 0.2s  infinite alternate;
		}

		.a4{
			animation: mymove 0.9s  linear 0.3s  infinite alternate;
			-webkit-animation: mymove 0.9s  linear .3s  infinite alternate;
		}
		 
		 .code{
			 font-size: 13px;
		 }

		 .newpsw{
			 display:inline-flex
		 }
		
	</style>
</head>

<body>
 
	<h1>IT之家 自动签到程序<h1>
	<text class="desc">安全提醒,强烈请您确保你的IT之家密码是唯一的,不会和其他网站重复.
		(虽然上本站不会保存密码,只是使用一次获取账号token用于签到,通过token无法还原原密码)</text>
		<br>

	<div>
		<a  class="genpsw" href="javascript:void(0);" >生成一个随机密码 </a>  
		<input class="newpsw"></input>
		<text>(本地javascript生成)</text>
	</div>
	
	 

	<div class="fff">
		<form class="form">
			<p class="ti">邮箱/手机号: <input type="text" name="usr" placeholder="邮箱/手机号" /></p>
			<p class="ti" >密码: <input type="text" name="psw" /></p>

		</form>
		<div id="submit" class="submit" >开始自动签到</div>
	</div>

	<div class="ani">
		<div class="rec a1"> </div>
		<div class="rec a2"> </div>
		<div class="rec a3"> </div>
		<div class="rec a4"> </div>
		
	</div>


	<script type="text/javascript" src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<script>
		function shuffle(t) {
			for (var e, r, a = t, o = a.length; o; ) r = Math.floor(Math.random() * o--), e = a[o], 
			a[o] = a[r], a[r] = e;
			return a;
		}
		function genPsw(){
			
			var charset = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@$%^&*';
			var arr = charset.split('');
			arr = shuffle(arr);
			arr = arr.slice(0,12);
			$(".newpsw").val(arr.join(''));

			$(".newpsw").select(); // 选中文本
			document.execCommand("copy"); // 执行浏览器复制命令
		}

		$('.genpsw').click(genPsw);
		genPsw();

		$.ajax({
			url: "https://lwx01.herokuapp.com/status",
			type: 'Get'
		});

		$(".fff").show();
		$(".ani").hide();

		var hosturl = "https://lwx01.herokuapp.com/addUser"
		$('#submit').click(function () {
		 
			$(".fff").hide();
			$(".ani").show();
			post = true;
			$.ajax({
				url: hosturl,
				type: 'Get',
				dataType: 'json',
				data: $('.form').serialize(),
				error:function(e){
					$(".fff").show();
					$(".ani").hide();
					console.log(e);
					alert("出错" + JSON.stringify(e));
				},
				success: function (data) {
					post = false;

					$(".fff").show();
					$(".ani").hide();
					if (data && data.succ == 1) {
						alert("成功");
					}
					else {
						alert(data.msg);
					}
				},

			});
		});

	</script>
	<script type="text/javascript" src="app.js?v=a111"></script>



	<link rel="stylesheet" href="psgmsg.css">
	<script type="text/javascript" src="postmsg.js"></script>
	<script src="//gist.github.com/vitock/33ea1af1f69af05d57b763bdf3cc6964.js"></script>
	
</body>

</html>